<!DOCTYPE html>
<html lang="ru" data-theme="newyear">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÑ SuRam Mini-Warehouse v3</title>

    <!-- –ò–∫–æ–Ω–∫–∏ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/css/theme.css">

    <!-- –ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ —à—Ä–∏—Ñ—Ç—ã -->
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        .newyear-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("{{ url_for('static', filename='images/newyear-bg.jpg') }}");
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            z-index: -2;
            opacity: 0.15;
        }

        .snowflakes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .snowflake {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.8;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to { transform: translateY(100vh); }
        }
    </style>
</head>
<body>
    <!-- –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π —Ñ–æ–Ω -->
    <div class="newyear-bg"></div>
    <div class="snowflakes" id="snowflakes"></div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="container nav-container">
            <!-- –õ–æ–≥–æ—Ç–∏–ø -->
            <a href="../templates/base.html" class="logo">
                <div class="logo-icon">üéÑ</div>
                <div class="logo-text">SuRam <span class="year">2025</span></div>
            </a>

            <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é -->
            <div class="desktop-menu">
                <ul class="nav-list">
                    <li><a href="../templates/base.html" class="nav-link"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="../templates/products/list.html" class="nav-link"><i class="fas fa-boxes"></i> –¢–æ–≤–∞—Ä—ã</a></li>
                    <li><a href="../templates/sales/list.html" class="nav-link"><i class="fas fa-shopping-cart"></i> –ü—Ä–æ–¥–∞–∂–∏</a></li>
                    <li><a href="../templates/reports/profit.html" class="nav-link"><i class="fas fa-chart-pie"></i> –û—Ç—á—ë—Ç—ã</a></li>

                    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ -->
                    <li class="dropdown">
                        <button class="nav-link dropdown-toggle">
                            <i class="fas fa-plus-circle"></i> –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
                        </button>
                        <div class="dropdown-menu">
                            <a href="{{ url_for('about') }}" class="dropdown-item">
                                <i class="fas fa-info-circle"></i> –û –Ω–∞—Å
                            </a>
                            <button class="dropdown-item" id="themeToggle">
                                <i class="fas fa-palette"></i> –°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É
                            </button>
                            <a href="{{ url_for('payment_page') }}" class="dropdown-item">
                                <i class="fas fa-wallet"></i> –ë–∞–ª–∞–Ω—Å
                            </a>
                        </div>
                    </li>

                    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–æ–≤–∞—è –ø—Ä–æ–¥–∞–∂–∞" -->
                    <li>
                        <a href="{{ url_for('sales_new') }}" class="btn btn-danger">
                            <i class="fas fa-bolt"></i> –ù–æ–≤–∞—è –ø—Ä–æ–¥–∞–∂–∞
                        </a>
                    </li>
                </ul>
            </div>

            <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
            <button class="theme-toggle-mobile" id="themeToggleMobile">
                <i class="fas fa-palette"></i>
            </button>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="container main-content">
        <!-- –ë–ª—é—Ä-—ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ -->
        <div class="scroll-blur"></div>

        <!-- Flash —Å–æ–æ–±—â–µ–Ω–∏—è -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages">
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }} alert-newyear">
                            <i class="fas fa-{% if category == 'success' %}check-circle{% elif category == 'error' %}exclamation-circle{% else %}info-circle{% endif %}"></i>
                            {{ message }}
                            <button class="alert-close">&times;</button>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <!-- –ë–ª–æ–∫ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü -->
        {% block content %}
        <!-- –°—é–¥–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
        {% endblock %}
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-tree"></i> SuRam Warehouse</h3>
                    <p>–ù–æ–≤–æ–≥–æ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è 3.0</p>
                    <p>–° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º! üéÖ</p>
                </div>
                <div class="footer-section">
                    <h3><i class="fas fa-users"></i> –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏</h3>
                    <p>–ö–æ–º–∞–Ω–¥–∞ "Mans & Ramzan"</p>
                    <p>–•–∞–∫–∞—Ç–æ–Ω 2025</p>
                </div>
                <div class="footer-section">
                    <h3><i class="fas fa-gift"></i> –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h3>
                    <p>üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–∏–∑–∞–π–Ω</p>
                    <p>üé® –î–≤–µ —Ç–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</p>
                    <p>üì± –ü–æ–ª–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2025 SuRam Mini-Warehouse. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. | –° –ù–æ–≤—ã–º –ì–æ–¥–æ–º! üéâ</p>
            </div>
        </div>
    </footer>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>

    <script>
        // –°–Ω–µ–∂–∏–Ω–∫–∏
        function createSnowflakes() {
            const container = document.getElementById('snowflakes');
            if (!container) return;

            for (let i = 0; i < 50; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';

                // –°–ª—É—á–∞–π–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
                const size = Math.random() * 10 + 5;
                const left = Math.random() * 100;
                const duration = Math.random() * 10 + 10;
                const delay = Math.random() * 5;

                snowflake.style.width = `${size}px`;
                snowflake.style.height = `${size}px`;
                snowflake.style.left = `${left}%`;
                snowflake.style.animationDuration = `${duration}s`;
                snowflake.style.animationDelay = `${delay}s`;

                container.appendChild(snowflake);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            createSnowflakes();

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –∞–ª–µ—Ä—Ç–æ–≤
            document.querySelectorAll('.alert-close').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.parentElement.style.opacity = '0';
                    setTimeout(() => {
                        this.parentElement.remove();
                    }, 300);
                });
            });
        });
    </script>

    {% block scripts %}{% endblock %}
</body>
</html>